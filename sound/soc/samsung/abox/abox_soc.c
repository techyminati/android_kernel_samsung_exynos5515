/* sound/soc/samsung/abox/abox_soc.c
 *
 * ALSA SoC Audio Layer - Samsung Abox SoC dependent layer
 *
 * Copyright (c) 2018 Samsung Electronics Co. Ltd.
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 2 as
 * published by the Free Software Foundation.
 */

#include <linux/io.h>
#include <linux/regmap.h>
#include "abox.h"
#include "abox_soc.h"

int abox_soc_ver(struct device *adev)
{
	struct abox_data *data = dev_get_drvdata(adev);

	return readl(data->sfr_base + ABOX_VERSION) >> ABOX_VERSION_L;
}

int abox_soc_vercmp(struct device *adev, int m, int n, int r)
{
	return ABOX_SOC_VERSION(m, n, r) - abox_soc_ver(adev);
}

static bool accessible_reg_5515(unsigned int reg)
{
	switch (reg) {
	case ABOX_IP_INDEX:
	case ABOX_VERSION:
	case ABOX_SYSPOWER_CTRL:
	case ABOX_SYSPOWER_STATUS:
	case ABOX_SYSTEM_CONFIG0:
	case ABOX_REMAP_MASK:
	case ABOX_REMAP_ADDR:
	case ABOX_DYN_CLOCK_OFF:
	case ABOX_DYN_CLOCK_OFF1:
	case ABOX_QCHANNEL_DISABLE:
	case ABOX_ROUTE_CTRL0:
	case ABOX_ROUTE_CTRL1:
	case ABOX_ROUTE_CTRL2:
	case ABOX_SPUS_CTRL0: 
	case ABOX_SPUS_CTRL1: 
	case ABOX_SPUS_CTRL2: 
	case ABOX_SPUS_CTRL3:
	case ABOX_SPUS_CTRL4:
	case ABOX_SPUS_CTRL5:
	case ABOX_SPUS_CTRL_FC1:
	case ABOX_SPUS_CTRL_FC2:
	case ABOX_SPUS_SBANK_RDMA(0):
	case ABOX_SPUS_SBANK_RDMA(1):
	case ABOX_SPUS_SBANK_RDMA(2):
	case ABOX_SPUS_SBANK_RDMA(3):
	case ABOX_SPUS_SBANK_RDMA(4):
	case ABOX_SPUS_SBANK_RDMA(5):
	case ABOX_SPUS_SBANK_RDMA(6):
	case ABOX_SPUS_SBANK_RDMA(7):
	case ABOX_SPUS_SBANK_RDMA(8):
	case ABOX_SPUS_SBANK_RDMA(9):
	case ABOX_SPUS_SBANK_RDMA(10):
	case ABOX_SPUS_SBANK_RDMA(11):
	case ABOX_SPUS_SBANK_ASRC(0):
	case ABOX_SPUS_SBANK_ASRC(1):
	case ABOX_SPUS_SBANK_ASRC(2):
	case ABOX_SPUS_SBANK_ASRC(3):
	case ABOX_SPUS_SBANK_ASRC(4):
	case ABOX_SPUS_SBANK_ASRC(5):
	case ABOX_SPUS_SBANK_ASRC(6):
	case ABOX_SPUS_SBANK_ASRC(7):
	case ABOX_SPUS_SBANK_MIXP:
	case ABOX_SPUS_SBANK_SIDETONE:
	case ABOX_SPUS_CTRL_SIFS_CNT(0):
	case ABOX_SPUS_CTRL_SIFS_CNT(1):
	case ABOX_SPUS_CTRL_SIFS_CNT(2):
	case ABOX_SPUS_CTRL_SIFS_CNT(3):
	case ABOX_SPUS_CTRL_SIFS_CNT(4):
	case ABOX_SPUS_CTRL_SIFS_CNT(5):
	case ABOX_SPUS_SBANK_STMIX:
	case ABOX_SPUS_LATENCY_CTRL0:
	case ABOX_SPUS_LATENCY_CTRL1:
	case ABOX_SPUS_LATENCY_CTRL2:
	case ABOX_SPUS_LATENCY_CTRL3:
	case ABOX_SPUM_CTRL0:
	case ABOX_SPUM_CTRL1:
	case ABOX_SPUM_CTRL2:
	case ABOX_SPUM_CTRL3:
	case ABOX_SPUM_CTRL4:
	case ABOX_SPUM_SBANK_NSRC(0):
	case ABOX_SPUM_SBANK_NSRC(1):
	case ABOX_SPUM_SBANK_NSRC(2):
	case ABOX_SPUM_SBANK_NSRC(3):
	case ABOX_SPUM_SBANK_NSRC(4):
	case ABOX_SPUM_SBANK_ASRC(0):
	case ABOX_SPUM_SBANK_ASRC(1):
	case ABOX_SPUM_SBANK_ASRC(2):
	case ABOX_SPUM_SBANK_ASRC(3):
	case ABOX_UAIF_CTRL0(0) ... ABOX_UAIF_STATUS(0):
	case ABOX_UAIF_CTRL0(1) ... ABOX_UAIF_STATUS(1):
	case ABOX_UAIF_CTRL0(2) ... ABOX_UAIF_STATUS(2):
	case ABOX_SPDYIF_CTRL:
	case ABOX_RDMA_CTRL(0) ... ABOX_RDMA_BIT_CTRL1(0):
	case ABOX_RDMA_STATUS(0):
	case ABOX_RDMA_CTRL(1) ... ABOX_RDMA_BIT_CTRL1(1):
	case ABOX_RDMA_STATUS(1):
	case ABOX_RDMA_CTRL(2) ... ABOX_RDMA_BIT_CTRL1(2):
	case ABOX_RDMA_STATUS(2):
	case ABOX_RDMA_CTRL(3) ... ABOX_RDMA_BIT_CTRL1(3):
	case ABOX_RDMA_STATUS(3):
	case ABOX_RDMA_CTRL(4) ... ABOX_RDMA_BIT_CTRL1(4):
	case ABOX_RDMA_STATUS(4):
	case ABOX_RDMA_CTRL(5) ... ABOX_RDMA_BIT_CTRL1(5):
	case ABOX_RDMA_STATUS(5):
	case ABOX_RDMA_CTRL(6) ... ABOX_RDMA_BIT_CTRL1(6):
	case ABOX_RDMA_STATUS(6):
	case ABOX_RDMA_CTRL(7) ... ABOX_RDMA_BIT_CTRL1(7):
	case ABOX_RDMA_STATUS(7):
	case ABOX_RDMA_CTRL(8) ... ABOX_RDMA_BIT_CTRL1(8):
	case ABOX_RDMA_STATUS(8):
	case ABOX_RDMA_CTRL(9) ... ABOX_RDMA_BIT_CTRL1(9):
	case ABOX_RDMA_STATUS(9):
	case ABOX_RDMA_CTRL(10) ... ABOX_RDMA_BIT_CTRL1(10):
	case ABOX_RDMA_STATUS(10):
	case ABOX_RDMA_CTRL(11) ... ABOX_RDMA_BIT_CTRL1(11):
	case ABOX_RDMA_STATUS(11):
	case ABOX_SPUS_ASRC_CTRL(0):
	case ABOX_SPUS_ASRC_IS_DEFAULT(0) ... ABOX_SPUS_ASRC_FILTER_CTRL(0):
	case ABOX_SPUS_ASRC_CTRL(1):
	case ABOX_SPUS_ASRC_IS_DEFAULT(1) ... ABOX_SPUS_ASRC_FILTER_CTRL(1):
	case ABOX_SPUS_ASRC_CTRL(2):
	case ABOX_SPUS_ASRC_IS_DEFAULT(2) ... ABOX_SPUS_ASRC_FILTER_CTRL(2):
	case ABOX_SPUS_ASRC_CTRL(3):
	case ABOX_SPUS_ASRC_IS_DEFAULT(3) ... ABOX_SPUS_ASRC_FILTER_CTRL(3):
	case ABOX_SPUS_ASRC_CTRL(4):
	case ABOX_SPUS_ASRC_IS_DEFAULT(4) ... ABOX_SPUS_ASRC_FILTER_CTRL(4):
	case ABOX_SPUS_ASRC_CTRL(5):
	case ABOX_SPUS_ASRC_IS_DEFAULT(5) ... ABOX_SPUS_ASRC_FILTER_CTRL(5):
	case ABOX_SPUS_ASRC_CTRL(6):
	case ABOX_SPUS_ASRC_IS_DEFAULT(6) ... ABOX_SPUS_ASRC_FILTER_CTRL(6):
	case ABOX_SPUS_ASRC_CTRL(7):
	case ABOX_SPUS_ASRC_IS_DEFAULT(7) ... ABOX_SPUS_ASRC_FILTER_CTRL(7):
	case ABOX_WDMA_CTRL(0) ... ABOX_WDMA_BIT_CTRL1(0):
	case ABOX_WDMA_STATUS(0):
	case ABOX_WDMA_CTRL(1) ... ABOX_WDMA_BIT_CTRL1(1):
	case ABOX_WDMA_STATUS(1):
	case ABOX_WDMA_CTRL(2) ... ABOX_WDMA_BIT_CTRL1(2):
	case ABOX_WDMA_STATUS(2):
	case ABOX_WDMA_CTRL(3) ... ABOX_WDMA_BIT_CTRL1(3):
	case ABOX_WDMA_STATUS(3):
	case ABOX_WDMA_CTRL(4) ... ABOX_WDMA_BIT_CTRL1(4):
	case ABOX_WDMA_STATUS(4):
	case ABOX_WDMA_DUAL_CTRL(0):
	case ABOX_WDMA_DUAL_BUF_STR(0):
	case ABOX_WDMA_DUAL_BUF_END(0):
	case ABOX_WDMA_DUAL_BUF_OFFSET(0):
	case ABOX_WDMA_DUAL_STR_POINT(0):
	case ABOX_WDMA_DUAL_STATUS(0):
	case ABOX_WDMA_DUAL_CTRL(1):
	case ABOX_WDMA_DUAL_BUF_STR(1):
	case ABOX_WDMA_DUAL_BUF_END(1):
	case ABOX_WDMA_DUAL_BUF_OFFSET(1):
	case ABOX_WDMA_DUAL_STR_POINT(1):
	case ABOX_WDMA_DUAL_STATUS(1):
	case ABOX_WDMA_DUAL_CTRL(2):
	case ABOX_WDMA_DUAL_BUF_STR(2):
	case ABOX_WDMA_DUAL_BUF_END(2):
	case ABOX_WDMA_DUAL_BUF_OFFSET(2):
	case ABOX_WDMA_DUAL_STR_POINT(2):
	case ABOX_WDMA_DUAL_STATUS(2):
	case ABOX_WDMA_DUAL_CTRL(3):
	case ABOX_WDMA_DUAL_BUF_STR(3):
	case ABOX_WDMA_DUAL_BUF_END(3):
	case ABOX_WDMA_DUAL_BUF_OFFSET(3):
	case ABOX_WDMA_DUAL_STR_POINT(3):
	case ABOX_WDMA_DUAL_STATUS(3):
	case ABOX_WDMA_DUAL_CTRL(4):
	case ABOX_WDMA_DUAL_BUF_STR(4):
	case ABOX_WDMA_DUAL_BUF_END(4):
	case ABOX_WDMA_DUAL_BUF_OFFSET(4):
	case ABOX_WDMA_DUAL_STR_POINT(4):
	case ABOX_WDMA_DUAL_STATUS(4):
	case ABOX_WDMA_DEBUG_CTRL(0) ... ABOX_WDMA_DEBUG_SBANK_LIMIT(0):
	case ABOX_WDMA_DEBUG_STATUS(0):
	case ABOX_WDMA_DEBUG_CTRL(1) ... ABOX_WDMA_DEBUG_SBANK_LIMIT(1):
	case ABOX_WDMA_DEBUG_STATUS(1):
	case ABOX_WDMA_DEBUG_CTRL(2) ... ABOX_WDMA_DEBUG_SBANK_LIMIT(2):
	case ABOX_WDMA_DEBUG_STATUS(2):
	case ABOX_WDMA_DEBUG_CTRL(3) ... ABOX_WDMA_DEBUG_SBANK_LIMIT(3):
	case ABOX_WDMA_DEBUG_STATUS(3):
	case ABOX_WDMA_DEBUG_CTRL(4) ... ABOX_WDMA_DEBUG_SBANK_LIMIT(4):
	case ABOX_WDMA_DEBUG_STATUS(4):
	case ABOX_WDMA_DEBUG_CTRL(5) ... ABOX_WDMA_DEBUG_SBANK_LIMIT(5):
	case ABOX_WDMA_DEBUG_STATUS(5):
	case ABOX_SPUM_ASRC_CTRL(0):
	case ABOX_SPUM_ASRC_IS_DEFAULT(0) ... ABOX_SPUM_ASRC_FILTER_CTRL(0):
	case ABOX_SPUM_ASRC_CTRL(1):
	case ABOX_SPUM_ASRC_IS_DEFAULT(1) ... ABOX_SPUM_ASRC_FILTER_CTRL(1):
	case ABOX_SPUM_ASRC_CTRL(2):
	case ABOX_SPUM_ASRC_IS_DEFAULT(2) ... ABOX_SPUM_ASRC_FILTER_CTRL(2):
	case ABOX_SPUM_ASRC_CTRL(3):
	case ABOX_SPUM_ASRC_IS_DEFAULT(3) ... ABOX_SPUM_ASRC_FILTER_CTRL(3):
	case ABOX_CA32_CORE0_R(0) ... ABOX_CA32_CORE0_PC:
	case ABOX_CA32_CORE1_R(0) ... ABOX_CA32_CORE1_PC:
	case ABOX_CA32_STATUS:
	case ABOX_COEF_2EVEN0(0) ... ABOX_COEF_8ODD1(0):
	case ABOX_COEF_2EVEN0(1) ... ABOX_COEF_8ODD1(1):
		return true;
	default:
		return false;
	}
}

static bool readonly_reg_5515(unsigned int reg)
{
	switch (reg) {
	case ABOX_IP_INDEX:
	case ABOX_VERSION:
	case ABOX_SYSPOWER_CTRL:
	case ABOX_SYSPOWER_STATUS:
	case ABOX_UAIF_STATUS(0):
	case ABOX_UAIF_STATUS(1):
	case ABOX_UAIF_STATUS(2):
	case ABOX_UAIF_STATUS(3):
	case ABOX_UAIF_STATUS(4):
	case ABOX_UAIF_STATUS(5):
	case ABOX_UAIF_STATUS(6):
	case ABOX_RDMA_STATUS(0):
	case ABOX_RDMA_STATUS(1):
	case ABOX_RDMA_STATUS(2):
	case ABOX_RDMA_STATUS(3):
	case ABOX_RDMA_STATUS(4):
	case ABOX_RDMA_STATUS(5):
	case ABOX_RDMA_STATUS(6):
	case ABOX_RDMA_STATUS(7):
	case ABOX_RDMA_STATUS(8):
	case ABOX_RDMA_STATUS(9):
	case ABOX_RDMA_STATUS(10):
	case ABOX_RDMA_STATUS(11):
	case ABOX_WDMA_STATUS(0):
	case ABOX_WDMA_STATUS(1):
	case ABOX_WDMA_STATUS(2):
	case ABOX_WDMA_STATUS(3):
	case ABOX_WDMA_STATUS(4):
	case ABOX_WDMA_DUAL_STATUS(0):
	case ABOX_WDMA_DUAL_STATUS(1):
	case ABOX_WDMA_DUAL_STATUS(2):
	case ABOX_WDMA_DUAL_STATUS(3):
	case ABOX_WDMA_DUAL_STATUS(4):
	case ABOX_WDMA_DUAL_STATUS(5):
	case ABOX_WDMA_DUAL_STATUS(6):
	case ABOX_WDMA_DUAL_STATUS(7):
	case ABOX_WDMA_DEBUG_STATUS(0):
	case ABOX_WDMA_DEBUG_STATUS(1):
	case ABOX_WDMA_DEBUG_STATUS(2):
	case ABOX_WDMA_DEBUG_STATUS(3):
	case ABOX_WDMA_DEBUG_STATUS(4):
	case ABOX_WDMA_DEBUG_STATUS(5):
	case ABOX_CA32_CORE0_R(0) ... ABOX_CA32_CORE0_PC:
	case ABOX_CA32_CORE1_R(0) ... ABOX_CA32_CORE1_PC:
	case ABOX_CA32_STATUS:
		return true;
	default:
		return false;
	}
}

static bool writeonly_reg_5515(unsigned int reg)
{
	switch (reg) {
	case ABOX_RDMA_BUF_RESTART(0):
	case ABOX_RDMA_BUF_RESTART(1):
	case ABOX_RDMA_BUF_RESTART(2):
	case ABOX_RDMA_BUF_RESTART(3):
	case ABOX_RDMA_BUF_RESTART(4):
	case ABOX_RDMA_BUF_RESTART(5):
	case ABOX_RDMA_BUF_RESTART(6):
	case ABOX_RDMA_BUF_RESTART(7):
	case ABOX_RDMA_BUF_RESTART(8):
	case ABOX_RDMA_BUF_RESTART(9):
	case ABOX_RDMA_BUF_RESTART(10):
	case ABOX_RDMA_BUF_RESTART(11):
	case ABOX_WDMA_BUF_RESTART(0):
	case ABOX_WDMA_BUF_RESTART(1):
	case ABOX_WDMA_BUF_RESTART(2):
	case ABOX_WDMA_BUF_RESTART(3):
	case ABOX_WDMA_BUF_RESTART(4):
	case ABOX_WDMA_BUF_RESTART(5):
	case ABOX_WDMA_BUF_RESTART(6):
	case ABOX_WDMA_BUF_RESTART(7):
	case ABOX_WDMA_DEBUG_BUF_RESTART(0):
	case ABOX_WDMA_DEBUG_BUF_RESTART(1):
	case ABOX_WDMA_DEBUG_BUF_RESTART(2):
	case ABOX_WDMA_DEBUG_BUF_RESTART(3):
	case ABOX_WDMA_DEBUG_BUF_RESTART(4):
	case ABOX_WDMA_DEBUG_BUF_RESTART(5):
		return true;
	default:
		return false;
	}
}

static bool shared_reg_5515(unsigned int reg)
{
	switch (reg) {
	case ABOX_RDMA_CTRL(0):
	case ABOX_RDMA_CTRL(1):
	case ABOX_RDMA_CTRL(2):
	case ABOX_RDMA_CTRL(3):
	case ABOX_RDMA_CTRL(4):
	case ABOX_RDMA_CTRL(5):
	case ABOX_RDMA_CTRL(6):
	case ABOX_RDMA_CTRL(7):
	case ABOX_RDMA_CTRL(8):
	case ABOX_RDMA_CTRL(9):
	case ABOX_RDMA_CTRL(10):
	case ABOX_RDMA_CTRL(11):
	case ABOX_WDMA_CTRL(0):
	case ABOX_WDMA_CTRL(1):
	case ABOX_WDMA_CTRL(2):
	case ABOX_WDMA_CTRL(3):
	case ABOX_WDMA_CTRL(4):
		return true;
	default:
		return false;
	}
}

static bool accessible_reg(unsigned int reg)
{
	if (IS_ENABLED(CONFIG_SOC_S5E5515))
		return accessible_reg_5515(reg);
	else
		return false;
}
/*
static const struct reg_default reg_defaults_5515[] = {
	{0x0000, 0x41424F58},
	{0x0004, 0x02310000},
	{0x0010, 0x00000000},
	{0x0014, 0x00000000},
	{0x0020, 0x00004444},
	{0x0024, 0xFFF00000},
	{0x0028, 0x13B00000},
	{0x0030, 0xFFFFFFFF},
	{0x0034, 0x3FFFFFFF},
	{0x0038, 0x00000000},
	{0x0040, 0x00000000},
	{0x0044, 0x00000000},
	{0x0048, 0x00000000},
	{0x0050, 0x000004E1},
	{0x0054, 0x00000000},
	{0x0200, 0x00000000},
	{0x0204, 0x00000000},
	{0x0208, 0x00000000},
	{0x020C, 0x00000000},
	{0x0210, 0x32100000},
	{0x0214, 0xFFFF7654},
	{0x0218, 0x00000000},
	{0x021C, 0x00000000},
	{0x0220, 0x00000000},
	{0x0224, 0x00000000},
	{0x0228, 0x00000000},
	{0x022C, 0x00000000},
	{0x0230, 0x00000000},
	{0x0234, 0x00000000},
	{0x0238, 0x00000000},
	{0x023C, 0x00000000},
	{0x0240, 0x00000000},
	{0x0244, 0x00000000},
	{0x0248, 0x00000000},
	{0x024C, 0x00000000},
	{0x0250, 0x00000000},
	{0x0254, 0x00000000},
	{0x0258, 0x00000000},
	{0x025C, 0x00000000},
	{0x0260, 0x00000000},
	{0x0264, 0x00000000},
	{0x0268, 0x00000000},
	{0x026C, 0x00000000},
	{0x0280, 0x00000000},
	{0x0284, 0x00000000},
	{0x0288, 0x00000000},
	{0x028C, 0x00000000},
	{0x0290, 0x00000000},
	{0x0294, 0x00000000},
	{0x0298, 0x00000000},
	{0x029C, 0x00000000},
	{0x02A0, 0x00000000},
	{0x02A4, 0x00000000},
	{0x02B0, 0x01010101},
	{0x02B4, 0x01010101},
	{0x02B8, 0x01010101},
	{0x0300, 0x00000000},
	{0x0304, 0x00000000},
	{0x030C, 0x00000000},
	{0x0310, 0x00732100},
	{0x0328, 0x00000000},
	{0x032C, 0x00000000},
	{0x0330, 0x00000000},
	{0x0334, 0x00000000},
	{0x034C, 0x00000000},
	{0x0350, 0x00000000},
	{0x0354, 0x00000000},
	{0x0358, 0x00000000},
	{0x0500, 0x01880010},
	{0x0504, 0x00000000},
	{0x050C, 0x00000000},
	{0x0510, 0x01880010},
	{0x0514, 0x00000000},
	{0x051C, 0x00000000},
	{0x0520, 0x01880010},
	{0x0524, 0x00000000},
	{0x052C, 0x00000000},
	{0x0580, 0x00000000},
	{0x1000, 0x00200000},
	{0x1004, 0x00000000},
	{0x1008, 0x00000000},
	{0x100C, 0x00000000},
	{0x1010, 0x00000000},
	{0x1014, 0x00000000},
	{0x1018, 0x00000000},
	{0x101C, 0x00000000},
	{0x1020, 0x00000000},
	{0x1024, 0x00000000},
	{0x1028, 0x00000000},
	{0x1030, 0x00000000},
	{0x1100, 0x00400000},
	{0x1104, 0x00000000},
	{0x1108, 0x00000000},
	{0x110C, 0x00000000},
	{0x1110, 0x00000000},
	{0x1114, 0x00000000},
	{0x1118, 0x00000000},
	{0x111C, 0x00000000},
	{0x1120, 0x00000000},
	{0x1124, 0x00000000},
	{0x1128, 0x00000000},
	{0x1130, 0x00000000},
	{0x1200, 0x00400000},
	{0x1204, 0x00000000},
	{0x1208, 0x00000000},
	{0x120C, 0x00000000},
	{0x1210, 0x00000000},
	{0x1214, 0x00000000},
	{0x1218, 0x00000000},
	{0x121C, 0x00000000},
	{0x1220, 0x00000000},
	{0x1224, 0x00000000},
	{0x1228, 0x00000000},
	{0x1230, 0x00000000},
	{0x1300, 0x00400000},
	{0x1304, 0x00000000},
	{0x1308, 0x00000000},
	{0x130C, 0x00000000},
	{0x1310, 0x00000000},
	{0x1314, 0x00000000},
	{0x1318, 0x00000000},
	{0x131C, 0x00000000},
	{0x1320, 0x00000000},
	{0x1324, 0x00000000},
	{0x1328, 0x00000000},
	{0x1330, 0x00000000},
	{0x1400, 0x00400000},
	{0x1404, 0x00000000},
	{0x1408, 0x00000000},
	{0x140C, 0x00000000},
	{0x1410, 0x00000000},
	{0x1414, 0x00000000},
	{0x1418, 0x00000000},
	{0x141C, 0x00000000},
	{0x1420, 0x00000000},
	{0x1424, 0x00000000},
	{0x1428, 0x00000000},
	{0x1430, 0x00000000},
	{0x1500, 0x00400000},
	{0x1504, 0x00000000},
	{0x1508, 0x00000000},
	{0x150C, 0x00000000},
	{0x1510, 0x00000000},
	{0x1514, 0x00000000},
	{0x1518, 0x00000000},
	{0x151C, 0x00000000},
	{0x1520, 0x00000000},
	{0x1524, 0x00000000},
	{0x1528, 0x00000000},
	{0x1530, 0x00000000},
	{0x1600, 0x00400000},
	{0x1604, 0x00000000},
	{0x1608, 0x00000000},
	{0x160C, 0x00000000},
	{0x1610, 0x00000000},
	{0x1614, 0x00000000},
	{0x1618, 0x00000000},
	{0x161C, 0x00000000},
	{0x1620, 0x00000000},
	{0x1624, 0x00000000},
	{0x1628, 0x00000000},
	{0x1630, 0x00000000},
	{0x1700, 0x00400000},
	{0x1704, 0x00000000},
	{0x1708, 0x00000000},
	{0x170C, 0x00000000},
	{0x1710, 0x00000000},
	{0x1714, 0x00000000},
	{0x1718, 0x00000000},
	{0x171C, 0x00000000},
	{0x1720, 0x00000000},
	{0x1724, 0x00000000},
	{0x1728, 0x00000000},
	{0x1730, 0x00000000},
	{0x1800, 0x00400000},
	{0x1804, 0x00000000},
	{0x1808, 0x00000000},
	{0x180C, 0x00000000},
	{0x1810, 0x00000000},
	{0x1814, 0x00000000},
	{0x1818, 0x00000000},
	{0x181C, 0x00000000},
	{0x1820, 0x00000000},
	{0x1824, 0x00000000},
	{0x1828, 0x00000000},
	{0x1830, 0x00000000},
	{0x1900, 0x00400000},
	{0x1904, 0x00000000},
	{0x1908, 0x00000000},
	{0x190C, 0x00000000},
	{0x1910, 0x00000000},
	{0x1914, 0x00000000},
	{0x1918, 0x00000000},
	{0x191C, 0x00000000},
	{0x1920, 0x00000000},
	{0x1924, 0x00000000},
	{0x1928, 0x00000000},
	{0x1930, 0x00000000},
	{0x1A00, 0x00400000},
	{0x1A04, 0x00000000},
	{0x1A08, 0x00000000},
	{0x1A0C, 0x00000000},
	{0x1A10, 0x00000000},
	{0x1A14, 0x00000000},
	{0x1A18, 0x00000000},
	{0x1A1C, 0x00000000},
	{0x1A20, 0x00000000},
	{0x1A24, 0x00000000},
	{0x1A28, 0x00000000},
	{0x1A30, 0x00000000},
	{0x1B00, 0x00400000},
	{0x1B04, 0x00000000},
	{0x1B08, 0x00000000},
	{0x1B0C, 0x00000000},
	{0x1B10, 0x00000000},
	{0x1B14, 0x00000000},
	{0x1B18, 0x00000000},
	{0x1B1C, 0x00000000},
	{0x1B20, 0x00000000},
	{0x1B24, 0x00000000},
	{0x1B28, 0x00000000},
	{0x1B30, 0x00000000},
	{0x2000, 0x90000000},
	{0x2010, 0x00000000},
	{0x2014, 0x00000000},
	{0x2018, 0x00000000},
	{0x201C, 0x00000000},
	{0x2020, 0x00000000},
	{0x2024, 0x00000000},
	{0x202C, 0x00000000},
	{0x2100, 0x90000000},
	{0x2110, 0x00000000},
	{0x2114, 0x00000000},
	{0x2118, 0x00000000},
	{0x211C, 0x00000000},
	{0x2120, 0x00000000},
	{0x2124, 0x00000000},
	{0x212C, 0x00000000},
	{0x2200, 0x90000000},
	{0x2210, 0x00000000},
	{0x2214, 0x00000000},
	{0x2218, 0x00000000},
	{0x221C, 0x00000000},
	{0x2220, 0x00000000},
	{0x2224, 0x00000000},
	{0x222C, 0x00000000},
	{0x2300, 0x90000000},
	{0x2310, 0x00000000},
	{0x2314, 0x00000000},
	{0x2318, 0x00000000},
	{0x231C, 0x00000000},
	{0x2320, 0x00000000},
	{0x2324, 0x00000000},
	{0x232C, 0x00000000},
	{0x2400, 0x90000000},
	{0x2410, 0x00000000},
	{0x2414, 0x00000000},
	{0x2418, 0x00000000},
	{0x241C, 0x00000000},
	{0x2420, 0x00000000},
	{0x2424, 0x00000000},
	{0x2428, 0x00000000},
	{0x242C, 0x00000000},
	{0x2500, 0x90000000},
	{0x2510, 0x00000000},
	{0x2514, 0x00000000},
	{0x2518, 0x00000000},
	{0x251C, 0x00000000},
	{0x2520, 0x00000000},
	{0x2524, 0x00000000},
	{0x252C, 0x00000000},
	{0x2600, 0x90000000},
	{0x2610, 0x00000000},
	{0x2614, 0x00000000},
	{0x2618, 0x00000000},
	{0x261C, 0x00000000},
	{0x2620, 0x00000000},
	{0x2624, 0x00000000},
	{0x262C, 0x00000000},
	{0x2700, 0x90000000},
	{0x2710, 0x00000000},
	{0x2714, 0x00000000},
	{0x2718, 0x00000000},
	{0x271C, 0x00000000},
	{0x2720, 0x00000000},
	{0x2724, 0x00000000},
	{0x272C, 0x00000000},
	{0x3000, 0x00200000},
	{0x3008, 0x00000000},
	{0x300C, 0x00000000},
	{0x3010, 0x00000000},
	{0x3014, 0x00000000},
	{0x3018, 0x00000000},
	{0x301C, 0x00000000},
	{0x3020, 0x00000000},
	{0x3024, 0x00000000},
	{0x3028, 0x00000000},
	{0x3030, 0x00000000},
	{0x3080, 0x00000000},
	{0x3088, 0x00000000},
	{0x308C, 0x00000000},
	{0x3090, 0x00000000},
	{0x3094, 0x00000000},
	{0x30B0, 0x00000000},
	{0x3100, 0x00200000},
	{0x3108, 0x00000000},
	{0x310C, 0x00000000},
	{0x3110, 0x00000000},
	{0x3114, 0x00000000},
	{0x3118, 0x00000000},
	{0x311C, 0x00000000},
	{0x3120, 0x00000000},
	{0x3124, 0x00000000},
	{0x3128, 0x00000000},
	{0x3130, 0x00000000},
	{0x3180, 0x00000000},
	{0x3188, 0x00000000},
	{0x318C, 0x00000000},
	{0x3190, 0x00000000},
	{0x3194, 0x00000000},
	{0x31B0, 0x00000000},
	{0x3200, 0x00200000},
	{0x3208, 0x00000000},
	{0x320C, 0x00000000},
	{0x3210, 0x00000000},
	{0x3214, 0x00000000},
	{0x3218, 0x00000000},
	{0x321C, 0x00000000},
	{0x3220, 0x00000000},
	{0x3224, 0x00000000},
	{0x3228, 0x00000000},
	{0x3230, 0x00000000},
	{0x3280, 0x00000000},
	{0x3288, 0x00000000},
	{0x328C, 0x00000000},
	{0x3290, 0x00000000},
	{0x3294, 0x00000000},
	{0x32B0, 0x00000000},
	{0x3300, 0x00200000},
	{0x3308, 0x00000000},
	{0x330C, 0x00000000},
	{0x3310, 0x00000000},
	{0x3314, 0x00000000},
	{0x3318, 0x00000000},
	{0x331C, 0x00000000},
	{0x3320, 0x00000000},
	{0x3324, 0x00000000},
	{0x3328, 0x00000000},
	{0x3330, 0x00000000},
	{0x3380, 0x00000000},
	{0x3388, 0x00000000},
	{0x338C, 0x00000000},
	{0x3390, 0x00000000},
	{0x3394, 0x00000000},
	{0x33B0, 0x00000000},
	{0x3400, 0x00200000},
	{0x3408, 0x00000000},
	{0x340C, 0x00000000},
	{0x3410, 0x00000000},
	{0x3414, 0x00000000},
	{0x3418, 0x00000000},
	{0x341C, 0x00000000},
	{0x3420, 0x00000000},
	{0x3424, 0x00000000},
	{0x3428, 0x00000000},
	{0x3430, 0x00000000},
	{0x3480, 0x00000000},
	{0x3488, 0x00000000},
	{0x348C, 0x00000000},
	{0x3490, 0x00000000},
	{0x3494, 0x00000000},
	{0x34B0, 0x00000000},
	{0x3800, 0x00200000},
	{0x3808, 0x00000000},
	{0x380C, 0x00000000},
	{0x3810, 0x00000000},
	{0x3814, 0x00000000},
	{0x3818, 0x00000000},
	{0x381C, 0x00000000},
	{0x3820, 0x00000000},
	{0x3830, 0x00000000},
	{0x3900, 0x00200000},
	{0x3908, 0x00000000},
	{0x390C, 0x00000000},
	{0x3910, 0x00000000},
	{0x3914, 0x00000000},
	{0x3918, 0x00000000},
	{0x391C, 0x00000000},
	{0x3920, 0x00000000},
	{0x3930, 0x00000000},
	{0x3A00, 0x00200000},
	{0x3A08, 0x00000000},
	{0x3A0C, 0x00000000},
	{0x3A10, 0x00000000},
	{0x3A14, 0x00000000},
	{0x3A18, 0x00000000},
	{0x3A1C, 0x00000000},
	{0x3A20, 0x00000000},
	{0x3A30, 0x00000000},
	{0x3B00, 0x00200000},
	{0x3B08, 0x00000000},
	{0x3B0C, 0x00000000},
	{0x3B10, 0x00000000},
	{0x3B14, 0x00000000},
	{0x3B18, 0x00000000},
	{0x3B1C, 0x00000000},
	{0x3B20, 0x00000000},
	{0x3B30, 0x00000000},
	{0x3C00, 0x00200000},
	{0x3C08, 0x00000000},
	{0x3C0C, 0x00000000},
	{0x3C10, 0x00000000},
	{0x3C14, 0x00000000},
	{0x3C18, 0x00000000},
	{0x3C1C, 0x00000000},
	{0x3C20, 0x00000000},
	{0x3C30, 0x00000000},
	{0x3D00, 0x00200000},
	{0x3D08, 0x00000000},
	{0x3D0C, 0x00000000},
	{0x3D10, 0x00000000},
	{0x3D14, 0x00000000},
	{0x3D18, 0x00000000},
	{0x3D1C, 0x00000000},
	{0x3D20, 0x00000000},
	{0x3D30, 0x00000000},
	{0x4000, 0x90000000},
	{0x4010, 0x00000000},
	{0x4014, 0x00000000},
	{0x4018, 0x00000000},
	{0x401C, 0x00000000},
	{0x4020, 0x00000000},
	{0x4024, 0x00000000},
	{0x402C, 0x00000000},
	{0x4100, 0x90000000},
	{0x4110, 0x00000000},
	{0x4114, 0x00000000},
	{0x4118, 0x00000000},
	{0x411C, 0x00000000},
	{0x4120, 0x00000000},
	{0x4124, 0x00000000},
	{0x412C, 0x00000000},
	{0x4200, 0x90000000},
	{0x4210, 0x00000000},
	{0x4214, 0x00000000},
	{0x4218, 0x00000000},
	{0x421C, 0x00000000},
	{0x4220, 0x00000000},
	{0x4224, 0x00000000},
	{0x422C, 0x00000000},
	{0x4300, 0x90000000},
	{0x4310, 0x00000000},
	{0x4314, 0x00000000},
	{0x4318, 0x00000000},
	{0x431C, 0x00000000},
	{0x4320, 0x00000000},
	{0x4324, 0x00000000},
	{0x432C, 0x00000000},
	{0x5000, 0x00000000},
	{0x5004, 0x00000000},
	{0x5008, 0x00000000},
	{0x500C, 0x00000000},
	{0x5010, 0x00000000},
	{0x5014, 0x00000000},
	{0x5018, 0x00000000},
	{0x501C, 0x00000000},
	{0x5020, 0x00000000},
	{0x5024, 0x00000000},
	{0x5028, 0x00000000},
	{0x502C, 0x00000000},
	{0x5030, 0x00000000},
	{0x5034, 0x00000000},
	{0x5038, 0x00000000},
	{0x503C, 0x00000000},
	{0x5040, 0x00000000},
	{0x5044, 0x00000000},
	{0x5048, 0x00000000},
	{0x504C, 0x00000000},
	{0x5050, 0x00000000},
	{0x5054, 0x00000000},
	{0x5058, 0x00000000},
	{0x505C, 0x00000000},
	{0x5060, 0x00000000},
	{0x5064, 0x00000000},
	{0x5068, 0x00000000},
	{0x506C, 0x00000000},
	{0x5070, 0x00000000},
	{0x5074, 0x00000000},
	{0x5078, 0x00000000},
	{0x507C, 0x00000000},
	{0x5100, 0x00000101},
	{0x7000, 0x028C77F5},
	{0x7004, 0x14B2CC4B},
	{0x7008, 0x2FC5569B},
	{0x700C, 0x49CFDC49},
	{0x7010, 0x5DE13770},
	{0x7014, 0x6B829664},
	{0x7018, 0x7427A7B6},
	{0x701C, 0x79827551},
	{0x7020, 0x7CEF562B},
	{0x7024, 0x7F6B9A7D},
	{0x7028, 0x09CD03E0},
	{0x702C, 0x21D4005E},
	{0x7030, 0x3D5CCE0A},
	{0x7034, 0x54B1FC98},
	{0x7038, 0x656D7776},
	{0x703C, 0x70583CC5},
	{0x7040, 0x77261896},
	{0x7044, 0x7B64DD82},
	{0x7048, 0x7E3F01DC},
	{0x704C, 0x03A315A5},
	{0x7050, 0x2128EBC9},
	{0x7054, 0x64BD0D3F},
	{0x7058, 0x0E955F07},
	{0x705C, 0x3CA7D896},
	{0x7060, 0x02DA4CF0},
	{0x7064, 0x1C1A1599},
	{0x7068, 0x612F333A},
	{0x706C, 0x0BC9B8F1},
	{0x7070, 0x369D88A0},
	{0x7100, 0x014B8816},
	{0x7104, 0x0B0F7FF9},
	{0x7108, 0x1BD33F7E},
	{0x710C, 0x2F993C8A},
	{0x7110, 0x42EFD988},
	{0x7114, 0x53D56218},
	{0x7118, 0x61AB90DC},
	{0x711C, 0x6CC00746},
	{0x7120, 0x75DA7EBE},
	{0x7124, 0x7DFC48C6},
	{0x7128, 0x0514063A},
	{0x712C, 0x12CFE5C3},
	{0x7130, 0x25946D33},
	{0x7134, 0x397BF07D},
	{0x7138, 0x4BC1BE21},
	{0x713C, 0x5B218944},
	{0x7140, 0x67835DCA},
	{0x7144, 0x717D64BD},
	{0x7148, 0x79F8D0E6},
	{0x714C, 0x03A315A5},
	{0x7150, 0x2128EBC9},
	{0x7154, 0x64BD0D3F},
	{0x7158, 0x0E955F07},
	{0x715C, 0x3CA7D896},
	{0x7160, 0x02DA4CF0},
	{0x7164, 0x1C1A1599},
	{0x7168, 0x612F333A},
	{0x716C, 0x0BC9B8F1},
	{0x7170, 0x369D88A0},
};
*/
static bool readonly_reg(unsigned int reg)
{
	if (IS_ENABLED(CONFIG_SOC_S5E5515))
		return readonly_reg_5515(reg);
	else
		return false;
}

static bool writeonly_reg(unsigned int reg)
{
	if (IS_ENABLED(CONFIG_SOC_S5E5515))
		return writeonly_reg_5515(reg);
	else
		return false;
}

static bool shared_reg(unsigned int reg)
{
	if (IS_ENABLED(CONFIG_SOC_S5E5515))
		return shared_reg_5515(reg);
	else
		return false;
}

static bool volatile_reg(struct device *dev, unsigned int reg)
{
	if (writeonly_reg(reg) || readonly_reg(reg) || shared_reg(reg))
		return true;

	return false;
}

static bool readable_reg(struct device *dev, unsigned int reg)
{
	return accessible_reg(reg);
}

static bool writeable_reg(struct device *dev, unsigned int reg)
{
	if (readonly_reg(reg))
		return false;
	else
		return accessible_reg(reg);
}

static const struct reg_sequence patch_5515[] = {
	{ABOX_REMAP_MASK, 0xfff00000},
	{ABOX_DYN_CLOCK_OFF, 0xffffffff},
	{ABOX_DYN_CLOCK_OFF1, 0x3fffffff},

	/* 0x0000 */
	{ABOX_SPUS_SBANK_RDMA(0), (SZ_512 << 16) | (0 * SZ_512)},
	{ABOX_SPUS_SBANK_RDMA(1), (SZ_512 << 16) | (1 * SZ_512)},
	{ABOX_SPUS_SBANK_RDMA(2), (SZ_512 << 16) | (2 * SZ_512)},
	{ABOX_SPUS_SBANK_RDMA(3), (SZ_512 << 16) | (3 * SZ_512)},
	{ABOX_SPUS_SBANK_RDMA(4), (SZ_512 << 16) | (4 * SZ_512)},
	{ABOX_SPUS_SBANK_RDMA(5), (SZ_512 << 16) | (5 * SZ_512)},
	{ABOX_SPUS_SBANK_RDMA(6), (SZ_512 << 16) | (6 * SZ_512)},
	{ABOX_SPUS_SBANK_RDMA(7), (SZ_512 << 16) | (7 * SZ_512)},
	{ABOX_SPUS_SBANK_RDMA(8), (SZ_512 << 16) | (8 * SZ_512)},
	{ABOX_SPUS_SBANK_RDMA(9), (SZ_512 << 16) | (9 * SZ_512)},
	{ABOX_SPUS_SBANK_RDMA(10), (SZ_512 << 16) | (10 * SZ_512)},
	{ABOX_SPUS_SBANK_RDMA(11), (SZ_512 << 16) | (11 * SZ_512)},
	/* 0x1800 */
	{ABOX_SPUS_SBANK_ASRC(0), (0x2C0 << 16) | (0x1800 + 0x000)},
	{ABOX_SPUS_SBANK_ASRC(1), (0x1A0 << 16) | (0x1800 + 0x2C0)},
	{ABOX_SPUS_SBANK_ASRC(2), (0x1A0 << 16) | (0x1800 + 0x460)},
	{ABOX_SPUS_SBANK_ASRC(3), (0x190 << 16) | (0x1800 + 0x600)},
	/* 0x1C00 */
	{ABOX_SPUS_SBANK_ASRC(4), (0x2C0 << 16) | (0x2000 + 0x000)},
	{ABOX_SPUS_SBANK_ASRC(5), (0x1A0 << 16) | (0x2000 + 0x2C0)},
	{ABOX_SPUS_SBANK_ASRC(6), (0x1A0 << 16) | (0x2000 + 0x460)},
	{ABOX_SPUS_SBANK_ASRC(7), (0x190 << 16) | (0x2000 + 0x600)},
	/* 0x2800 */
	{ABOX_SPUS_SBANK_MIXP, (SZ_128 << 16) | (0x2800 + 0x000)},
	{ABOX_SPUS_SBANK_SIDETONE, (SZ_128 << 16) | (0x2800 + 0x080)},
	{ABOX_SPUS_SBANK_STMIX, (SZ_128 << 16) | (0x2800 + 0x100)},
	/* LIMIT: 0x2A00 */

	/* 0x0000 */
	{ABOX_SPUM_SBANK_NSRC(0), (SZ_512 << 16) | (0 * SZ_512)},
	{ABOX_SPUM_SBANK_NSRC(1), (SZ_512 << 16) | (1 * SZ_512)},
	{ABOX_SPUM_SBANK_NSRC(2), (SZ_512 << 16) | (2 * SZ_512)},
	{ABOX_SPUM_SBANK_NSRC(3), (SZ_512 << 16) | (3 * SZ_512)},
	{ABOX_SPUM_SBANK_NSRC(4), (SZ_512 << 16) | (4 * SZ_512)},
	/* 0xA00 */
	{ABOX_SPUM_SBANK_ASRC(0), (0x2C0 << 16) | (0xA00 + 0x000)},
	{ABOX_SPUM_SBANK_ASRC(1), (0x1A0 << 16) | (0xA00 + 0x2C0)},
	{ABOX_SPUM_SBANK_ASRC(2), (0x1A0 << 16) | (0xA00 + 0x460)},
	{ABOX_SPUM_SBANK_ASRC(3), (0x190 << 16) | (0xA00 + 0x600)},
	/* LIMIT: 0x1200 */

	/* Set default volume to 1.0 */
	{ABOX_RDMA_VOL_FACTOR(0), 0x1 << 23},
	{ABOX_RDMA_VOL_FACTOR(1), 0x1 << 23},
	{ABOX_RDMA_VOL_FACTOR(2), 0x1 << 23},
	{ABOX_RDMA_VOL_FACTOR(3), 0x1 << 23},
	{ABOX_RDMA_VOL_FACTOR(4), 0x1 << 23},
	{ABOX_RDMA_VOL_FACTOR(5), 0x1 << 23},
	{ABOX_RDMA_VOL_FACTOR(6), 0x1 << 23},
	{ABOX_RDMA_VOL_FACTOR(7), 0x1 << 23},
	{ABOX_RDMA_VOL_FACTOR(8), 0x1 << 23},
	{ABOX_RDMA_VOL_FACTOR(9), 0x1 << 23},
	{ABOX_RDMA_VOL_FACTOR(10), 0x1 << 23},
	{ABOX_RDMA_VOL_FACTOR(11), 0x1 << 23},

	{ABOX_WDMA_VOL_FACTOR(0), 0x1 << 23},
	{ABOX_WDMA_VOL_FACTOR(1), 0x1 << 23},
	{ABOX_WDMA_VOL_FACTOR(2), 0x1 << 23},
	{ABOX_WDMA_VOL_FACTOR(3), 0x1 << 23},
	{ABOX_WDMA_VOL_FACTOR(4), 0x1 << 23},

	{ABOX_WDMA_DEBUG_VOL_FACTOR(0), 0x1 << 23},
	{ABOX_WDMA_DEBUG_VOL_FACTOR(1), 0x1 << 23},
	{ABOX_WDMA_DEBUG_VOL_FACTOR(2), 0x1 << 23},
	{ABOX_WDMA_DEBUG_VOL_FACTOR(3), 0x1 << 23},
	{ABOX_WDMA_DEBUG_VOL_FACTOR(4), 0x1 << 23},
	{ABOX_WDMA_DEBUG_VOL_FACTOR(5), 0x1 << 23},

	/* Set default RDMA DST_BIT_WIDTH to 16bit */
	{ABOX_RDMA_BIT_CTRL0(0x0), 0x1},
	{ABOX_RDMA_BIT_CTRL0(0x1), 0x1},
	{ABOX_RDMA_BIT_CTRL0(0x2), 0x1},
	{ABOX_RDMA_BIT_CTRL0(0x3), 0x1},
	{ABOX_RDMA_BIT_CTRL0(0x4), 0x1},
	{ABOX_RDMA_BIT_CTRL0(0x5), 0x1},
	{ABOX_RDMA_BIT_CTRL0(0x6), 0x1},
	{ABOX_RDMA_BIT_CTRL0(0x7), 0x1},
	{ABOX_RDMA_BIT_CTRL0(0x8), 0x1},
	{ABOX_RDMA_BIT_CTRL0(0x9), 0x1},
	{ABOX_RDMA_BIT_CTRL0(0xa), 0x1},
	{ABOX_RDMA_BIT_CTRL0(0xb), 0x1},

	/* Set default WDMA DST_BIT_WIDTH to 16bit */
	{ABOX_WDMA_BIT_CTRL0(0x0), 0x1},
	{ABOX_WDMA_BIT_CTRL0(0x1), 0x1},
	{ABOX_WDMA_BIT_CTRL0(0x2), 0x1},
	{ABOX_WDMA_BIT_CTRL0(0x3), 0x1},
	{ABOX_WDMA_BIT_CTRL0(0x4), 0x1},

	/* Set default buffer configuration */
	{ABOX_RDMA_BUF_STR(0x0), IOVA_RDMA_BUFFER(0x0)},
	{ABOX_RDMA_BUF_END(0x0), IOVA_RDMA_BUFFER(0x0) + BUFFER_BYTES_MIN},
	{ABOX_RDMA_BUF_OFFSET(0x0), BUFFER_BYTES_MIN / 2},
	{ABOX_RDMA_STR_POINT(0x0), IOVA_RDMA_BUFFER(0x0)},

	{ABOX_RDMA_BUF_STR(0x1), IOVA_RDMA_BUFFER(0x1)},
	{ABOX_RDMA_BUF_END(0x1), IOVA_RDMA_BUFFER(0x1) + BUFFER_BYTES_MIN},
	{ABOX_RDMA_BUF_OFFSET(0x1), BUFFER_BYTES_MIN / 2},
	{ABOX_RDMA_STR_POINT(0x1), IOVA_RDMA_BUFFER(0x1)},

	{ABOX_RDMA_BUF_STR(0x2), IOVA_RDMA_BUFFER(0x2)},
	{ABOX_RDMA_BUF_END(0x2), IOVA_RDMA_BUFFER(0x2) + BUFFER_BYTES_MIN},
	{ABOX_RDMA_BUF_OFFSET(0x2), BUFFER_BYTES_MIN / 2},
	{ABOX_RDMA_STR_POINT(0x2), IOVA_RDMA_BUFFER(0x2)},

	{ABOX_RDMA_BUF_STR(0x3), IOVA_RDMA_BUFFER(0x3)},
	{ABOX_RDMA_BUF_END(0x3), IOVA_RDMA_BUFFER(0x3) + BUFFER_BYTES_MIN},
	{ABOX_RDMA_BUF_OFFSET(0x3), BUFFER_BYTES_MIN / 2},
	{ABOX_RDMA_STR_POINT(0x3), IOVA_RDMA_BUFFER(0x3)},

	{ABOX_RDMA_BUF_STR(0x4), IOVA_RDMA_BUFFER(0x4)},
	{ABOX_RDMA_BUF_END(0x4), IOVA_RDMA_BUFFER(0x4) + BUFFER_BYTES_MIN},
	{ABOX_RDMA_BUF_OFFSET(0x4), BUFFER_BYTES_MIN / 2},
	{ABOX_RDMA_STR_POINT(0x4), IOVA_RDMA_BUFFER(0x4)},

	{ABOX_RDMA_BUF_STR(0x5), IOVA_RDMA_BUFFER(0x5)},
	{ABOX_RDMA_BUF_END(0x5), IOVA_RDMA_BUFFER(0x5) + BUFFER_BYTES_MIN},
	{ABOX_RDMA_BUF_OFFSET(0x5), BUFFER_BYTES_MIN / 2},
	{ABOX_RDMA_STR_POINT(0x5), IOVA_RDMA_BUFFER(0x5)},

	{ABOX_RDMA_BUF_STR(0x6), IOVA_RDMA_BUFFER(0x6)},
	{ABOX_RDMA_BUF_END(0x6), IOVA_RDMA_BUFFER(0x6) + BUFFER_BYTES_MIN},
	{ABOX_RDMA_BUF_OFFSET(0x6), BUFFER_BYTES_MIN / 2},
	{ABOX_RDMA_STR_POINT(0x6), IOVA_RDMA_BUFFER(0x6)},

	{ABOX_RDMA_BUF_STR(0x7), IOVA_RDMA_BUFFER(0x7)},
	{ABOX_RDMA_BUF_END(0x7), IOVA_RDMA_BUFFER(0x7) + BUFFER_BYTES_MIN},
	{ABOX_RDMA_BUF_OFFSET(0x7), BUFFER_BYTES_MIN / 2},
	{ABOX_RDMA_STR_POINT(0x7), IOVA_RDMA_BUFFER(0x7)},

	{ABOX_RDMA_BUF_STR(0x8), IOVA_RDMA_BUFFER(0x8)},
	{ABOX_RDMA_BUF_END(0x8), IOVA_RDMA_BUFFER(0x8) + BUFFER_BYTES_MIN},
	{ABOX_RDMA_BUF_OFFSET(0x8), BUFFER_BYTES_MIN / 2},
	{ABOX_RDMA_STR_POINT(0x8), IOVA_RDMA_BUFFER(0x8)},

	{ABOX_RDMA_BUF_STR(0x9), IOVA_RDMA_BUFFER(0x9)},
	{ABOX_RDMA_BUF_END(0x9), IOVA_RDMA_BUFFER(0x9) + BUFFER_BYTES_MIN},
	{ABOX_RDMA_BUF_OFFSET(0x9), BUFFER_BYTES_MIN / 2},
	{ABOX_RDMA_STR_POINT(0x9), IOVA_RDMA_BUFFER(0x9)},

	{ABOX_RDMA_BUF_STR(0xa), IOVA_RDMA_BUFFER(0xa)},
	{ABOX_RDMA_BUF_END(0xa), IOVA_RDMA_BUFFER(0xa) + BUFFER_BYTES_MIN},
	{ABOX_RDMA_BUF_OFFSET(0xa), BUFFER_BYTES_MIN / 2},
	{ABOX_RDMA_STR_POINT(0xa), IOVA_RDMA_BUFFER(0xa)},

	{ABOX_RDMA_BUF_STR(0xb), IOVA_RDMA_BUFFER(0xb)},
	{ABOX_RDMA_BUF_END(0xb), IOVA_RDMA_BUFFER(0xb) + BUFFER_BYTES_MIN},
	{ABOX_RDMA_BUF_OFFSET(0xb), BUFFER_BYTES_MIN / 2},
	{ABOX_RDMA_STR_POINT(0xb), IOVA_RDMA_BUFFER(0xb)},

	{ABOX_WDMA_BUF_STR(0x0), IOVA_WDMA_BUFFER(0x0)},
	{ABOX_WDMA_BUF_END(0x0), IOVA_WDMA_BUFFER(0x0) + BUFFER_BYTES_MIN},
	{ABOX_WDMA_BUF_OFFSET(0x0), BUFFER_BYTES_MIN / 2},
	{ABOX_WDMA_STR_POINT(0x0), IOVA_WDMA_BUFFER(0x0)},

	{ABOX_WDMA_BUF_STR(0x1), IOVA_WDMA_BUFFER(0x1)},
	{ABOX_WDMA_BUF_END(0x1), IOVA_WDMA_BUFFER(0x1) + BUFFER_BYTES_MIN},
	{ABOX_WDMA_BUF_OFFSET(0x1), BUFFER_BYTES_MIN / 2},
	{ABOX_WDMA_STR_POINT(0x1), IOVA_WDMA_BUFFER(0x1)},

	{ABOX_WDMA_BUF_STR(0x2), IOVA_WDMA_BUFFER(0x2)},
	{ABOX_WDMA_BUF_END(0x2), IOVA_WDMA_BUFFER(0x2) + BUFFER_BYTES_MIN},
	{ABOX_WDMA_BUF_OFFSET(0x2), BUFFER_BYTES_MIN / 2},
	{ABOX_WDMA_STR_POINT(0x2), IOVA_WDMA_BUFFER(0x2)},

	{ABOX_WDMA_BUF_STR(0x3), IOVA_WDMA_BUFFER(0x3)},
	{ABOX_WDMA_BUF_END(0x3), IOVA_WDMA_BUFFER(0x3) + BUFFER_BYTES_MIN},
	{ABOX_WDMA_BUF_OFFSET(0x3), BUFFER_BYTES_MIN / 2},
	{ABOX_WDMA_STR_POINT(0x3), IOVA_WDMA_BUFFER(0x3)},

	{ABOX_WDMA_BUF_STR(0x4), IOVA_WDMA_BUFFER(0x4)},
	{ABOX_WDMA_BUF_END(0x4), IOVA_WDMA_BUFFER(0x4) + BUFFER_BYTES_MIN},
	{ABOX_WDMA_BUF_OFFSET(0x4), BUFFER_BYTES_MIN / 2},
	{ABOX_WDMA_STR_POINT(0x4), IOVA_WDMA_BUFFER(0x4)},
};

static struct regmap_config regmap_config = {
	.reg_bits = 32,
	.val_bits = 32,
	.reg_stride = 4,
	.volatile_reg = volatile_reg,
	.readable_reg = readable_reg,
	.writeable_reg = writeable_reg,
	.max_register = ABOX_MAX_REGISTERS,
	.num_reg_defaults_raw = ABOX_MAX_REGISTERS + 1,
	.cache_type = REGCACHE_RBTREE,
	.fast_io = true,
};

struct regmap *abox_soc_get_regmap(struct device *adev)
{
	struct abox_data *data = dev_get_drvdata(adev);
	struct regmap *regmap;
	const struct reg_sequence *regs = NULL;
	int num_regs = 0;
	int ret = 0;

	if (!IS_ERR_OR_NULL(data->regmap))
		return data->regmap;

	regmap = devm_regmap_init_mmio(adev, data->sfr_base, &regmap_config);

	if (IS_ENABLED(CONFIG_SOC_S5E5515)) {
//		regmap_config.reg_defaults = reg_defaults_5515;
//		regmap_config.num_reg_defaults = ARRAY_SIZE(reg_defaults_5515);
		regs = patch_5515;
		num_regs = ARRAY_SIZE(patch_5515);
	} else {
		BUG_ON(1);
	}

	if (regs) {
		ret = regmap_multi_reg_write(regmap, regs, num_regs);
		abox_info(adev, "%s - ret(%d)\n", __func__, ret);
	}

	return regmap;
}
